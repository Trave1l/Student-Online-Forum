{"remainingRequest":"F:\\系统默认\\桌面\\demo\\demo\\vue\\node_modules\\babel-loader\\lib\\index.js!F:\\系统默认\\桌面\\demo\\demo\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\系统默认\\桌面\\demo\\demo\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!F:\\系统默认\\桌面\\demo\\demo\\vue\\src\\views\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\系统默认\\桌面\\demo\\demo\\vue\\src\\views\\Login.vue","mtime":1638280180924},{"path":"F:\\系统默认\\桌面\\demo\\demo\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1633927497472},{"path":"F:\\系统默认\\桌面\\demo\\demo\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1633927499440},{"path":"F:\\系统默认\\桌面\\demo\\demo\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1633927497472},{"path":"F:\\系统默认\\桌面\\demo\\demo\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1633927500611}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJlcXVlc3QgZnJvbSAiQC91dGlscy9yZXF1ZXN0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHt9LAogICAgICByZXNldDoge30sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgdXNlcm5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXnlKjmiLflkI0nLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXlr4bnoIEnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgZGlhbG9nRm9ybVZpc2libGUxOiBmYWxzZSwKICAgICAgZW50aXR5MToge30KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgidXNlciIpOwogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICAvLyDlnKjpobXpnaLplIDmr4HlkI7vvIzmuIXpmaTorqHml7blmagKICAgIHZhciB1c2VyID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpOwogICAgdGhpcy5zdHIgPSBKU09OLnBhcnNlKHVzZXIpOwogICAgcmVxdWVzdC5wdXQoIi9hcGkvdXNlci9xdWl0IiwgdGhpcy5zdHIpOwogIH0sCiAgbWV0aG9kczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmc1snZm9ybSddLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgcmVxdWVzdC5wb3N0KCIvYXBpL3VzZXIvbG9naW4iLCBfdGhpcy5mb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09ICcwJykgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLnJlcG9ydCk7CgogICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5yZXBvcnQgIT0gMCkgewogICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi6LSm5Y+35byC5bi4IgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi55m75YWl5oiQ5YqfIgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgidXNlciIsIEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhKSk7IC8vIOe8k+WtmOeUqOaIt+S/oeaBrwoKICAgICAgICAgICAgICAgIF90aGlzLnN0YXRlKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXMubXNnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gLy/pqozor4HlkIjms5UKCiAgICAgIH0pOwogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUobmFtZSkgewogICAgICBjb25zb2xlLmxvZyhuYW1lKTsKICAgICAgcmVxdWVzdC5nZXQoIi9hcGkvdXNlci8iICsgbmFtZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgfSk7CiAgICB9LAogICAgc3RhdGU6IGZ1bmN0aW9uIHN0YXRlKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgfSwKICAgIGZvcmdldDogZnVuY3Rpb24gZm9yZ2V0KCkgewogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlMSA9IHRydWU7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["F:\\系统默认\\桌面\\demo\\demo\\vue\\src\\views\\Login.vue"],"names":[],"mappings":"AA0CA,OAAO,OAAP,MAAoB,iBAApB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,IAFa,kBAEP;AACJ,WAAM;AACJ,MAAA,IAAI,EAAE,EADF;AAEJ,MAAA,KAAK,EAAE,EAFH;AAGJ,MAAA,KAAK,EAAC;AACJ,QAAA,QAAQ,EAAE,CACR;AACE,UAAA,QAAQ,EAAE,IADZ;AAEE,UAAA,OAAO,EAAE,QAFX;AAGE,UAAA,OAAO,EAAE;AAHX,SADQ,CADN;AAQJ,QAAA,QAAQ,EAAE,CACR;AACE,UAAA,QAAQ,EAAE,IADZ;AAEE,UAAA,OAAO,EAAE,OAFX;AAGE,UAAA,OAAO,EAAE;AAHX,SADQ;AARN,OAHF;AAmBJ,MAAA,kBAAkB,EAAC,KAnBf;AAoBJ,MAAA,OAAO,EAAC;AApBJ,KAAN;AAsBD,GAzBY;AA0Bb,EAAA,OA1Ba,qBA0BH;AACR,IAAA,cAAc,CAAC,UAAf,CAA0B,MAA1B;AACD,GA5BY;AA6Bb,EAAA,SA7Ba,uBA6BF;AACT;AACA,QAAI,IAAG,GAAI,cAAc,CAAC,OAAf,CAAuB,MAAvB,CAAX;AACA,SAAK,GAAL,GAAW,IAAI,CAAC,KAAL,CAAW,IAAX,CAAX;AACA,IAAA,OAAO,CAAC,GAAR,CAAY,gBAAZ,EAA8B,KAAK,GAAnC;AACD,GAlCY;AAmCb,EAAA,OAAO,EAAC;AACN,IAAA,KADM,mBACC;AAAA;;AACL,WAAK,KAAL,CAAW,MAAX,EAAmB,QAAnB,CAA4B,UAAC,KAAD,EAAW;AACrC,YAAI,KAAJ,EAAW;AACT,UAAA,OAAO,CAAC,IAAR,CAAa,iBAAb,EAAgC,KAAI,CAAC,IAArC,EAA2C,IAA3C,CAAgD,UAAA,GAAE,EAAI;AACpD,gBAAG,GAAG,CAAC,IAAJ,IAAY,GAAf,EAAmB;AACjB,cAAA,OAAO,CAAC,GAAR,CAAY,GAAG,CAAC,IAAJ,CAAS,MAArB;;AACA,kBAAG,GAAG,CAAC,IAAJ,CAAS,MAAT,IAAmB,CAAtB,EAAwB;AACtB,gBAAA,KAAI,CAAC,QAAL,CAAc;AACZ,kBAAA,IAAI,EAAC,OADO;AAEZ,kBAAA,OAAO,EAAC;AAFI,iBAAd;AAID,eALD,MAKK;AACH,gBAAA,KAAI,CAAC,QAAL,CAAc;AACZ,kBAAA,IAAI,EAAC,SADO;AAEZ,kBAAA,OAAO,EAAC;AAFI,iBAAd;;AAIA,gBAAA,cAAc,CAAC,OAAf,CAAuB,MAAvB,EAA+B,IAAI,CAAC,SAAL,CAAe,GAAG,CAAC,IAAnB,CAA/B,EALG,CAKuD;;AAC1D,gBAAA,KAAI,CAAC,KAAL;AACF;AACD,aAfD,MAeK;AACH,cAAA,KAAI,CAAC,QAAL,CAAc;AACZ,gBAAA,IAAI,EAAC,OADO;AAEZ,gBAAA,OAAO,EAAC,GAAG,CAAC;AAFA,eAAd;AAIF;AACD,WAtBD;AAuBD,SAzBoC,CAyBpC;;AACF,OA1BD;AA2BD,KA7BK;AA8BN,IAAA,IA9BM,gBA8BD,IA9BC,EA8BK;AACT,MAAA,OAAO,CAAC,GAAR,CAAY,IAAZ;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,eAAe,IAA3B,EAAiC,IAAjC,CAAsC,UAAA,GAAG,EAAE;AACzC,QAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;AACD,OAFD;AAGD,KAnCK;AAoCN,IAAA,KApCM,mBAoCC;AACL,WAAK,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACD,KAtCK;AAuCN,IAAA,MAvCM,oBAuCE;AACN,WAAK,kBAAL,GAA0B,IAA1B;AACF;AAzCM;AAnCK,CAAf","sourcesContent":["<template>\r\n  <div style=\"width: 100%; height: 100vh;background-color: whitesmoke; overflow: hidden\" class=\"bgImg\">\r\n    <div style=\"width: 500px; height: 350px; background-color:rgba(9, 50, 113 ,0.2); border-radius: 10px;\r\n        margin: 50px auto;\">\r\n      <div class=\"item\" style=\"font-size: 20px; color: white\">登录</div>\r\n      <el-form ref=\"form\" :model=\"form\" size=\"normal\" :rules=\"rules\" class=\"form\" style=\"text-align: center\">\r\n        <el-form-item prop=\"username\">\r\n          <el-input prefix-icon=\"el-icon-user-solid\" v-model=\"form.username\" class=\"foItem\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"password\">\r\n          <el-input prefix-icon=\"el-icon-lock\" v-model=\"form.password\" show-password class=\"foItem\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item style=\" text-align: center\">\r\n          <el-button style=\"cursor: pointer;\"  @click=\"$router.push('/register')\">注 册 </el-button>\r\n          <el-button style=\"cursor: pointer; margin-left: 20px\" type=\"primary\" @click=\"login\">Login</el-button>\r\n        </el-form-item>\r\n        <el-form-item style=\"text-align: right\">\r\n          <el-button style=\"cursor: pointer; color: #f24b17;\" type=\"text\" @click=\"forget\">Forget</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <el-dialog v-model=\"dialogFormVisible1\" title=\"忘记密码\" width=\"25%\">\r\n      <el-form :model=\"reset\">\r\n        <el-form-item label=\"用户名\" label-width=\"120px\">\r\n          <el-input v-model=\"reset.username\" autocomplete=\"off\" style=\"width: 80%\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"救援码\" label-width=\"120px\">\r\n          <el-input v-model=\"reset.emergency\" autocomplete=\"off\" style=\"width: 80%\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"新密码\" label-width=\"120px\">\r\n          <el-input show-password v-model=\"reset.password\" autocomplete=\"off\" style=\"width: 80%\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" style=\"text-align: center\">\r\n        <el-button @click=\"dialogFormVisible1 = false\">取 消</el-button>\r\n        <el-button type=\"primary\" style=\"margin-left: 20px\" @click=\"save(reset.username)\">重置</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  data(){\r\n    return{\r\n      form: {},\r\n      reset: {},\r\n      rules:{\r\n        username: [\r\n          {\r\n            required: true,\r\n            message: '请输入用户名',\r\n            trigger: 'blur',\r\n          },\r\n        ],\r\n        password: [\r\n          {\r\n            required: true,\r\n            message: '请输入密码',\r\n            trigger: 'blur',\r\n          },\r\n        ],\r\n      },\r\n      dialogFormVisible1:false,\r\n      entity1:{}\r\n    }\r\n  },\r\n  created() {\r\n    sessionStorage.removeItem(\"user\")\r\n  },\r\n  destroyed(){\r\n    // 在页面销毁后，清除计时器\r\n    let user = sessionStorage.getItem(\"user\")\r\n    this.str = JSON.parse(user)\r\n    request.put(\"/api/user/quit\", this.str)\r\n  },\r\n  methods:{\r\n    login(){\r\n      this.$refs['form'].validate((valid) => {\r\n        if (valid) {\r\n          request.post(\"/api/user/login\", this.form).then(res =>{\r\n            if(res.code == '0'){\r\n              console.log(res.data.report)\r\n              if(res.data.report != 0){\r\n                this.$message({\r\n                  type:\"error\",\r\n                  message:\"账号异常\"\r\n                })\r\n              }else{\r\n                this.$message({\r\n                  type:\"success\",\r\n                  message:\"登入成功\"\r\n                })\r\n                sessionStorage.setItem(\"user\", JSON.stringify(res.data))  // 缓存用户信息\r\n                this.state()\r\n              }\r\n            }else{\r\n              this.$message({\r\n                type:\"error\",\r\n                message:res.msg\r\n              })\r\n            }\r\n          })\r\n        }//验证合法\r\n      })\r\n    },\r\n    save(name) {\r\n      console.log(name)\r\n      request.get(\"/api/user/\" + name).then(res=>{\r\n        console.log(res)\r\n      })\r\n    },\r\n    state(){\r\n      this.$router.push(\"/\")\r\n    },\r\n    forget(){\r\n      this.dialogFormVisible1 = true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.bgImg {\r\n  background: url(\"../assets/bg.jpg\") no-repeat;\r\n  background-size: 100% 100vh;\r\n}\r\n.item {\r\n  text-align: center;\r\n  padding: 10px 0\r\n}\r\n.foItem{\r\n  width: 400px;\r\n  margin: 15px 0;\r\n}\r\n</style>"],"sourceRoot":""}]}